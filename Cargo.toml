[package]
name = "gammalooprs"
version = "0.3.3"
edition = "2021"
authors = ["Valentin Hirschi <valentin.hirschi@gmail.com>"]
categories = ["science"]
description = "An implementation of the Local Unitarity method for computing differential collider cross-sections."
keywords = ["loop", "cross-section", "perturbative", "physics"]
license-file = "LICENSE.md"
readme = "README.md"
repository = "https://github.com/alphal00p/gammaloop"

[profile.dev-optim]
inherits = "dev"
opt-level = 2
#lto=true

[profile.bench]
lto = "fat"
opt-level = 3

[[bench]]
name = "cff_scalar"

harness = false

[[bench]]
name = "three_loop_photon"
harness = false

[[bench]]
name = "polarization"

harness = false

[profile.release]
lto = "fat"

[dev-dependencies]
criterion = { version = "0.5", features = ["html_reports"] }

[profile.dev.package]
insta.opt-level = 3
similar.opt-level = 3

[dependencies]
# These will be patched
symbolica = { version = "0.17.0", features = ["serde", "bincode"] }
# symbolica_community = { git = "https://github.com/alphal00p/symbolica-community", rev = "5231643e98ebcb52faa44eba065d62fc2a09c0e6", features = [
#     "bincode",
# ] }

idenso = { git = "https://github.com/alphal00p/spenso", rev = "a5caa15fcebf3454f43f611bf379573abb5e463e", features = [
    "bincode",
] }
spenso-hep-lib = { git = "https://github.com/alphal00p/spenso", rev = "a5caa15fcebf3454f43f611bf379573abb5e463e" }
spenso = { version = "0.4.1", features = ["shadowing"] }
#linnet = { version = "0.2.0", features = [
#    # "symbolica",
#    "drawing",
#] }
linnet = { version = "0.7.1", features = ["drawing", "serde", "bincode"] }

# vakint = { git = "https://github.com/alphal00p/vakint", branch = "vk_for_sb_0_16_latest" }
momtrop = { git = "https://github.com/alphal00p/momtrop", features = ["log"] }
serde = { version = "1.0", features = ["derive"] }
serde_yaml = "*"
bincode = { version = "2.0.0", features = ["serde"] }
clap = "2.34"
color-eyre = { version = "^0.3", default-features = false }
eyre = "^0.4"
lorentz_vector = { git = "https://github.com/benruijl/lorentz_vector", branch = "hyperdual", features = [
    "serde_support",
    "hyperdual_support",
] }
hyperdual = { git = "https://gitlab.com/benruijl/hyperdual.git" }
rand = { version = "0.9", features = ["small_rng"] }
rayon = "1.5"
tabled = "0.7"
indicatif = { version = "0.17.9", features = ["improved_unicode", "rayon"] }
# bincode-trait-derive = {path="../bincode-trait-derive"}
bincode-trait-derive = { version = "0.1.1" }
enum_dispatch = "*"
git-version = "0.3"
colored = "*"
libc = "0.2.0"
statrs = "0.16.0"
smallvec = { version = "1.7", features = ["const_generics", "serde"] }
itertools = "0.8"
smartstring = { version = "*", features = ["serde"] }
log = { version = "*", features = ["release_max_level_debug"] }
env_logger = "*"
pyo3-log = { version = "0.12.0", optional = true }
nalgebra = "0.32.3"
rug = { version = "1.27.0", features = ["serde"] }
clarabel = "0"
# petgraph = "0.6.4"
indexmap = "2.2.2"
vectorize = "0.2.0"
ahash = { version = "0.8.8", features = ["serde"] }
# num = { version = "0.4.1", features = ["serde"] }
pprof = { version = "0.13.0", features = ["criterion", "flamegraph"] }
derive_more = "0.99.17"
serde_json = "1.0.115"
ctrlc = "3.4.4"
# constcat = "0.5.0"
ref-ops = "0.2.5"
delegate = "0.12.0"
typed-index-collections = { version = "3.3.0", features = [
    "serde",
    "serde-alloc",
    "bincode",
] }

gat-lending-iterator = "0.1.5"
# gxhash = "3.4.1"
thiserror = "1.0.63"
serde_repr = "0.1.19"
compensated-summation = "0.3.0"
uuid = { version = "1.10.0", features = ["serde", "v4"] }
serde_with = "3.9.0"

bitvec = { version = "1.0.1", features = ["serde"] }
pathfinding = "4.11.0"
insta = { version = "1.40.0", features = ["json", "ron", "serde", "toml"] }
slotmap = { version = "1.0.7", features = ["serde"] }
base62 = "2.0.2"
trie-rs = { version = "0.4.2", features = ["serde"] }
brotli = "7.0.0"
# cgmath = "0.18.0"
# argmin = "0.10.0"
# by_address = "1.2.1"
pyo3-pylogger = { version = "0.3.0", optional = true }
fern = "0.7.1"
# humantime = "2.1.0"
chrono = "0.4.39"
linreg = "0.2.0"

[dependencies.pyo3]
features = ["abi3", "abi3-py37"]
optional = true
version = "0.24"

[build-dependencies]
pyo3-build-config = "*"

[lib]
crate-type = ["cdylib", "lib"]
name = "_gammaloop"
# required-features = ["python_api"]
bench = false
[[bin]]
name = "cli"
# required-features = ["binary"]
bench = false
[features]
default = []
extension-module = ["pyo3/extension-module"]
higher_loops = []
fjcore = []

python_api = ["pyo3", "extension-module", "pyo3-log", "pyo3-pylogger"]
binary = []
fail-on-warnings = []
no_python = []
# insta.opt-level = 3

[patch.crates-io]
# symbolica = { git = "https://github.com/benruijl/symbolica", branch = "complex_coeff" } # symbolica = { path = "./python/gammaloop/dependencies/symbolica" }
# symbolica={git="https://github.com/benruijl/symbolica",rev="a714571c8c8ee1a292237eb3ef1bc8123a4d7db4"}
# symbolica = { git = "https://github.com/alphal00p/symbolica", rev = "a23ebaa71b1bc715a129ac765764ece7273625dc" }
# symbolica = {path="../symbolica"}
spenso-macros = { git = "https://github.com/alphal00p/spenso", rev = "a5caa15fcebf3454f43f611bf379573abb5e463e" }
spenso = { git = "https://github.com/alphal00p/spenso", rev = "a5caa15fcebf3454f43f611bf379573abb5e463e" }
# spenso = { path = "../spenso/spenso" }
# linnet = { path = "../linnet" }
# linnet = {git ="https://github.com/alphal00p/linnet"}
# symbolica-community={path="../symbolica-community"}
linnet = { git = "https://github.com/alphal00p/linnet", rev = "50d4d036fd2cfdf75c79a3c168c7d8357ec16831" }
